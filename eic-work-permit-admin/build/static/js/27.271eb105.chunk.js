(this["webpackJsonpadmin-template"]=this["webpackJsonpadmin-template"]||[]).push([[27],{1267:function(e,t,n){"use strict";n.r(t);var a=n(608),r=n(573),i=n(215),c=n(602),o=n(160),s=n(27),l=n(1),u=function(){Object(s.h)();return Object(l.jsx)(r.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(l.jsxs)(r.a,{item:!0,children:[Object(l.jsx)(o.a,{variant:"h3",component:"h3",gutterBottom:!0,children:"Assign Work Permits"}),Object(l.jsxs)(o.a,{variant:"subtitle2",children:["Catherine Pike",", these are your unassigned work permits"]})]})})},d=n(3),j=n(216),b=n(19),O=n(0),h=n(607),f=n(1264),m=n(1289),E=n(29),x=n(564),p=n(594),g=n(559),_=n(1290),v=n(1291),y=n(1292),R=n(1293),D=n(1294),S=n(1295),C=n(636),A=n(169),I=n(164),P=n(570),T=n(552),W=n(587),V=n(557),F=n(569),k=n(596),w=n(577),z=n(598),N=n(613),M=n(628),L={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:900,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},U=function(e){var t=["case_worker","team_leader","director"],n=Object(O.useReducer)(N.c,N.b),a=Object(b.a)(n,2),i=a[0],c=a[1],s=function(t){e.onSubmit(t)};return Object(O.useEffect)((function(){Object(N.j)(t,s,c)}),[c]),Object(O.useEffect)((function(){e.data&&(console.log("dd",e.data),Object.keys(e.data).length>0&&e.data.assignedTo&&e.data.isAssigned&&N.a.UpdateFormData(Object(d.a)({},Object(N.i)([].concat(t),Object(d.a)({},e.data.assignedTo))),c))}),[e.data,c]),Object(l.jsx)(P.a,{open:e.isVisible,onClose:e.isLoading?function(){return null}:function(){return e.onSubmit({})},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsxs)(T.a,{sx:L,children:[Object(l.jsxs)(o.a,{variant:"h3",children:["Assign Employees for Work Permit ",e.title]}),Object(l.jsxs)(r.a,{container:!0,width:"100%",spacing:3,justifyContent:"space-between",alignItems:"flex-start",sx:{mt:1},children:[Object(l.jsx)(r.a,{item:!0,md:4,xs:12,children:Object(l.jsxs)(W.a,{className:"flex-c",fullWidth:!0,children:[Object(l.jsx)(V.a,{id:"demo-radio-buttons-group-label",children:"Case Worker"}),Object(l.jsx)(F.a,Object(d.a)(Object(d.a)({variant:"outlined"},Object(N.g)("case_worker",i,c)),{},{children:e.admins.filter((function(e){return e.role===M.a.CASE_WORKER})).map((function(e){return Object(l.jsx)(k.a,{value:e._id,children:"".concat(e.first_name," ").concat(e.last_name)},e._id)}))}))]})}),Object(l.jsx)(r.a,{item:!0,md:4,xs:12,children:Object(l.jsxs)(W.a,{className:"flex-c",fullWidth:!0,children:[Object(l.jsx)(V.a,{id:"demo-radio-buttons-group-label",children:"Team Leader"}),Object(l.jsx)(F.a,Object(d.a)(Object(d.a)({variant:"outlined"},Object(N.g)("team_leader",i,c)),{},{children:e.admins.filter((function(e){return e.role===M.a.TEAM_LEADER})).map((function(e){return Object(l.jsx)(k.a,{value:e._id,children:"".concat(e.first_name," ").concat(e.last_name)},e._id)}))}))]})}),Object(l.jsx)(r.a,{item:!0,md:4,xs:12,children:Object(l.jsxs)(W.a,{className:"flex-c",fullWidth:!0,children:[Object(l.jsx)(V.a,{id:"demo-radio-buttons-group-label",children:"Director"}),Object(l.jsx)(F.a,Object(d.a)(Object(d.a)({variant:"outlined"},Object(N.g)("director",i,c)),{},{children:e.admins.filter((function(e){return e.role===M.a.DIRECTOR})).map((function(e){return Object(l.jsx)(k.a,{value:e._id,children:"".concat(e.first_name," ").concat(e.last_name)},e._id)}))}))]})})]}),Object(l.jsx)(r.a,{container:!0,width:"100%",spacing:3,justifyContent:"center",alignItems:"center",sx:{mt:2},children:Object(l.jsx)(r.a,{item:!0,md:4,xs:12,justifyContent:"center",children:Object(l.jsx)(w.a,{onClick:function(){return Object(N.d)(c)},fullWidth:!0,variant:"contained",color:"secondary",disabled:e.isLoading,children:e.isLoading?Object(l.jsx)(z.a,{color:"success"}):"Assign Employees"})})})]})})},B=n(674),K=n.n(B),H=function(){var e=Object(O.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(O.useState)([]),c=Object(b.a)(i,2),s=c[0],u=c[1];Object(O.useEffect)((function(){A.a.FetchAdmins((function(e,t){if(e)throw e;t&&u(t)})),I.a.FetchUnAssignedWorkPermits((function(e,t){if(e)throw e;t&&a(t)}))}),[]);var d=Object(E.a)(),j=Object(O.useState)({}),h=Object(b.a)(j,2),f=h[0],m=h[1],P=Object(O.useState)(!1),T=Object(b.a)(P,2),W=T[0],V=T[1],F=Object(O.useState)(!1),k=Object(b.a)(F,2),w=k[0],z=k[1],N=function(e){return Object(l.jsx)(x.a,{title:"Assign Work Permit",arrow:!0,children:Object(l.jsx)(p.a,{sx:{"&:hover":{background:d.colors.primary.lighter},color:d.palette.primary.main},color:"inherit",size:"small",onClick:function(){m(e.permit),z(!0)},children:Object(l.jsx)(K.a,{fontSize:"small"})})})};return Object(l.jsxs)(l.Fragment,{children:[w&&Object(l.jsx)(U,{admins:s,isLoading:W,isVisible:w,onSubmit:function(e){Object.keys(e).length>0&&(V(!0),I.a.AssignEmployeeToWorkPermitBody({_id:f._id,case_worker:e.case_worker,director:e.director,team_leader:e.team_leader},(function(e,t){if(e)throw e;a((function(e){return e.filter((function(e){return e._id!==t._id}))})),V(!1)}))),z(!1)},title:f.company_name?f.company_name:"",data:f}),Object(l.jsx)(g.a,{sx:{mt:1}}),Object(l.jsx)(r.a,{container:!0,width:"100%",justifyContent:"center",sx:{mt:1},children:Object(l.jsx)(r.a,{item:!0,md:4,xs:12,children:Object(l.jsx)(o.a,{variant:"h3",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,style:{display:n.length>0?"none":"inherit"},children:"No Unassigned Work Permits for Now"})})}),Object(l.jsx)(_.a,{style:{display:n.length>0?"inherit":"none"},children:Object(l.jsxs)(v.a,{children:[Object(l.jsx)(y.a,{children:Object(l.jsxs)(R.a,{children:[Object(l.jsx)(D.a,{children:"Company Name"}),Object(l.jsx)(D.a,{children:"Country of Incorporation"}),Object(l.jsx)(D.a,{children:"Capital of Enterprise"}),Object(l.jsx)(D.a,{align:"right",children:"Permit Status"}),Object(l.jsx)(D.a,{align:"right",children:"Actions"}),Object(l.jsx)(D.a,{align:"right",children:"Assign"})]})}),Object(l.jsx)(S.a,{children:n.map((function(e){var t=e;return Object(l.jsxs)(R.a,{hover:!0,children:[Object(l.jsxs)(D.a,{children:[Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.company_name}),Object(l.jsx)(o.a,{variant:"body2",color:"text.secondary",noWrap:!0,children:t.company_name_amharic})]}),Object(l.jsx)(D.a,{children:Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.country_of_incorporation)})}),Object(l.jsx)(D.a,{children:Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.capital_of_enterprise)})}),Object(l.jsx)(D.a,{align:"right",children:t.permit_status}),Object(l.jsx)(D.a,{align:"right",children:Object(l.jsx)(C.a,{investmentPermit:t})}),Object(l.jsx)(D.a,{align:"right",children:Object(l.jsx)(N,{permit:t})})]},t._id)}))})]})})]})},q=function(){var e=Object(O.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],i=Object(O.useState)([]),c=Object(b.a)(i,2),s=c[0],u=c[1];Object(O.useEffect)((function(){A.a.FetchAdmins((function(e,t){if(e)throw e;t&&u(t)})),I.a.FetchAssignedWorkPermits((function(e,t){if(e)throw e;t&&(console.log("lzzzz",t),a(t))}))}),[]);var d=Object(E.a)(),j=Object(O.useState)({}),h=Object(b.a)(j,2),f=h[0],m=h[1],P=Object(O.useState)(!1),T=Object(b.a)(P,2),W=T[0],V=T[1],F=Object(O.useState)(!1),k=Object(b.a)(F,2),w=k[0],z=k[1],N=function(e){return Object(l.jsx)(x.a,{title:"Assign Work Permit",arrow:!0,children:Object(l.jsx)(p.a,{sx:{"&:hover":{background:d.colors.primary.lighter},color:d.palette.primary.main},color:"inherit",size:"small",onClick:function(){m(e.permit),z(!0)},children:Object(l.jsx)(K.a,{fontSize:"small"})})})};return Object(l.jsxs)(l.Fragment,{children:[w&&Object(l.jsx)(U,{admins:s,isLoading:W,isVisible:w,onSubmit:function(e){Object.keys(e).length>0&&(V(!0),I.a.AssignEmployeeToWorkPermitBody({_id:f._id,case_worker:e.case_worker,director:e.director,team_leader:e.team_leader},(function(e,t){if(e)throw e;a((function(e){return e.map((function(e){return e._id===t._id?t:e}))})),V(!1)}))),z(!1)},title:f.company_name?f.company_name:"",data:f}),Object(l.jsx)(g.a,{sx:{mt:1}}),Object(l.jsx)(r.a,{container:!0,width:"100%",justifyContent:"center",sx:{mt:1},children:Object(l.jsx)(r.a,{item:!0,md:4,xs:12,children:Object(l.jsx)(o.a,{variant:"h3",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,style:{display:n.length>0?"none":"inherit"},children:"No Assigned Work Permits for Now"})})}),Object(l.jsx)(_.a,{style:{display:n.length>0?"inherit":"none"},children:Object(l.jsxs)(v.a,{children:[Object(l.jsx)(y.a,{children:Object(l.jsxs)(R.a,{children:[Object(l.jsx)(D.a,{children:"Company Name"}),Object(l.jsx)(D.a,{children:"Country of Incorporation"}),Object(l.jsx)(D.a,{children:"Capital of Enterprise"}),Object(l.jsx)(D.a,{align:"right",children:"Permit Status"}),Object(l.jsx)(D.a,{align:"right",children:"Actions"}),Object(l.jsx)(D.a,{align:"right",children:"Assign"})]})}),Object(l.jsx)(S.a,{children:n.map((function(e){var t=e;return Object(l.jsxs)(R.a,{hover:!0,children:[Object(l.jsxs)(D.a,{children:[Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.company_name}),Object(l.jsx)(o.a,{variant:"body2",color:"text.secondary",noWrap:!0,children:t.company_name_amharic})]}),Object(l.jsx)(D.a,{children:Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.country_of_incorporation)})}),Object(l.jsx)(D.a,{children:Object(l.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.capital_of_enterprise)})}),Object(l.jsx)(D.a,{align:"right",children:t.permit_status}),Object(l.jsx)(D.a,{align:"right",children:Object(l.jsx)(C.a,{investmentPermit:t})}),Object(l.jsx)(D.a,{align:"right",children:Object(l.jsx)(N,{permit:t})})]},t._id)}))})]})})]})},G=["children","value","index"],J=function(){function e(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var t=Object(O.useState)(0),n=Object(b.a)(t,2),a=n[0],r=n[1],i=function(e){var t=e.children,n=e.value,a=e.index,r=Object(j.a)(e,G);return Object(l.jsx)("div",Object(d.a)(Object(d.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(l.jsx)(l.Fragment,{children:t})}))};return Object(l.jsxs)(h.a,{sx:{pl:2,pb:2,pt:2},children:[Object(l.jsxs)(f.a,{value:a,onChange:function(e,t){r(t)},"aria-label":"basic tabs example",children:[Object(l.jsx)(m.a,Object(d.a)({label:"UnAssigned Work Permits"},e(0))),Object(l.jsx)(m.a,Object(d.a)({label:"Assigned Work Permits"},e(1)))]}),Object(l.jsx)(i,{value:a,index:0,children:Object(l.jsx)(H,{})}),Object(l.jsx)(i,{value:a,index:1,children:Object(l.jsx)(q,{})})]})};t.default=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(i.a,{children:Object(l.jsx)("title",{children:"EIC - Assign Work"})}),Object(l.jsx)(c.a,{children:Object(l.jsx)(u,{})}),Object(l.jsx)(a.a,{maxWidth:"lg",children:Object(l.jsx)(r.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:Object(l.jsx)(r.a,{item:!0,xs:12,children:Object(l.jsx)(J,{})})})})]})}},602:function(e,t,n){"use strict";var a=n(608),r=n(7),i=n(552),c=n(1),o=Object(r.a)(i.a)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4,0),";\n")}));t.a=function(e){var t=e.children;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(o,{children:Object(c.jsx)(a.a,{maxWidth:"lg",children:t})})})}},612:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a;!function(e){e.DRAFTED="DRAFTED",e.REVIEWED="REVIEWED",e.VERIFIED="VERIFIED",e.APPROVED="APPROVED",e.SENT_SERVICE_FEE="SENT_SERVICE_FEE",e.ACCEPTED_SERVICE_FEE="ACCEPTED_SERVICE_FEE",e.RENEWED="RENEWED"}(a||(a={}))},613:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"i",(function(){return p}));var a=n(4),r=n(3),i={formData:{},errors:[],required_inputs:[],onSubmit:function(e){return null},dispatch:function(e){return null}},c="UPDATE_INPUT",o="UPDATE_ERRORS",s="SET_INPUTS",l="SET_CALLBACK",u="UPDATE_FORM_DATA",d="UPDATE_SINGLE_ERROR",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=e.errors.findIndex((function(e){return e.path===t}));return n>=0?e.errors[n]:{}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,n=Object.values(e.formData),a=Object.keys(e.formData),r=a.findIndex((function(e){return e===t}));return r>=0?n[r]:null},O=function(e){var t=e.name,n=e.formState,a=e.dispatch,i=e.isRequired,o=e.exactValue,s=e.disable,l=e.isCheckbox,u=n.errors.findIndex((function(e){return String(e.path)===String(t)})),d=Object.values(n.formData),j=Object.keys(n.formData),b=function(e){var t=j.findIndex((function(t){return String(t)===String(e)}));return t>=0?d[t]:""},O=u>=0&&i?Object(r.a)(Object(r.a)({},n.errors[u]),{},{name:t,onChange:function(e){var t=e.target,n=t.name,r=t.value;a({type:c,payload:{name:n,value:r}})},value:b(t)}):{name:t,onChange:function(e){var t=e.target,n=t.name,r=t.value;a({type:c,payload:{name:n,value:r}})},value:b(t)},h=o?Object(r.a)(Object(r.a)({},O),{},{checked:o===b(t),onChange:function(){a({type:c,payload:{name:t,value:o}})}}):O,f=s?Object(r.a)(Object(r.a)({},h),{},{onChange:function(){return{}}}):h;return l?Object(r.a)(Object(r.a)({},f),{},{onChange:function(){a({type:c,payload:{name:t,value:!Boolean(b(t))}})}}):f},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t.errors.findIndex((function(t){return String(t.path)===String(e)})),l=Object.values(t.formData),u=Object.keys(t.formData),d=function(e){var t=u.findIndex((function(t){return String(t)===String(e)}));return t>=0?l[t]:""},j=s>=0&&a?Object(r.a)(Object(r.a)({},t.errors[s]),{},{name:e,onChange:function(e){var t=e.target,a=t.name,r=t.value;n({type:c,payload:{name:a,value:r}})},value:d(e)}):{name:e,onChange:function(e){var t=e.target,a=t.name,r=t.value;n({type:c,payload:{name:a,value:r}})},value:d(e)},b=o?Object(r.a)(Object(r.a)({},j),{},{onChange:function(e){return{}}}):j;return b},f={UpdateFormInput:function(e,t){return t({type:c,payload:e})},UpdateFormData:function(e,t){return t({type:u,payload:e})},UpdateSingleError:function(e,t){return t({type:d,payload:e})}},m=function(e){e({type:o,payload:{}})},E=function(e,t,n){n({type:s,payload:e}),n({type:l,payload:t})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=t.payload,j=n.name,b=n.value;return Object(r.a)(Object(r.a)({},e),{},{formData:Object(r.a)(Object(r.a)({},e.formData),{},Object(a.a)({},j,b))});case d:var O=t.payload,h=O.callback,f=O.path,m=O.message,E=h();return E?Object(r.a)(Object(r.a)({},e),{},{errors:e.errors.concat({path:f,error:!0,helperText:m})}):Object(r.a)(Object(r.a)({},e),{},{errors:e.errors.filter((function(e){return String(e.input)!==String(f)}))});case s:return Object(r.a)(Object(r.a)({},e),{},{required_inputs:t.payload});case l:return Object(r.a)(Object(r.a)({},e),{},{onSubmit:t.payload});case u:return Object(r.a)(Object(r.a)({},e),{},{formData:Object(r.a)(Object(r.a)({},e.formData),t.payload)});case o:var x=Object.keys(e.formData),p=Object.values(e.formData),g=[],_=[];return e.required_inputs.forEach((function(t){var n=x.findIndex((function(e){return String(e)===String(t)}));if(n<0)g.push({path:t,error:!0,helperText:"".concat(t," is required")});else if(p[n]&&""!==p[n]){var a=e.errors.findIndex((function(e){return String(e.path)===String(t)}));a>=0&&_.push(a)}})),0===g.filter((function(e,t){return _.findIndex((function(e){return e===t}))<0})).length&&Object.values(e.formData).length>=e.required_inputs.length&&e.onSubmit(e.formData),Object(r.a)(Object(r.a)({},e),{},{errors:g.filter((function(e,t){return _.findIndex((function(e){return e===t}))<0}))});default:return e}},p=function(e,t){var n={};return e.forEach((function(e){t[e]&&(n[e]=t[e])})),n}},615:function(e,t,n){"use strict";var a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32)),i=n(1),c=(0,r.default)((0,i.jsx)("path",{d:"m9 16.2-3.5-3.5a.9839.9839 0 0 0-1.4 0c-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4a.9839.9839 0 0 0-1.4 0L9 16.2z"}),"DoneRounded");t.default=c},616:function(e,t,n){"use strict";var a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32)),i=n(1),c=(0,r.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEyeSharp");t.default=c},628:function(e,t,n){"use strict";var a,r,i,c;n.d(t,"a",(function(){return i})),function(e){e.CREATE="CREATE",e.FETCH="FETCH",e.EDIT="EDIT",e.REMOVE="REMOVE"}(a||(a={})),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.BAD_ARGS=400]="BAD_ARGS",e[e.NOT_FOUND=404]="NOT_FOUND"}(r||(r={})),function(e){e.CASE_WORKER="CASE_WORKER",e.TEAM_LEADER="TEAM_LEADER",e.DIRECTOR="DIRECTOR"}(i||(i={})),function(e){e.DRAFTED="DRAFTED",e.REVIEWED="REVIEWED",e.VERIFIED="VERIFIED",e.APPROVED="APPROVED"}(c||(c={}))},636:function(e,t,n){"use strict";n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return R})),n.d(t,"a",(function(){return D}));var a=n(19),r=n(29),i=n(564),c=n(594),o=n(598),s=n(573),l=n(0),u=n(45),d=n(164),j=n(55),b=n(27),O=n(616),h=n.n(O),f=n(640),m=n.n(f),E=n(615),x=n.n(E),p=n(24),g=n(628),_=n(612),v=n(1),y=function(e,t){return t.filter((function(t){if(e===g.a.CASE_WORKER)switch(t.permit_status){case _.a.DRAFTED:case _.a.REVIEWED:case _.a.SENT_SERVICE_FEE:case _.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}else if(e===g.a.TEAM_LEADER)switch(t.permit_status){case _.a.REVIEWED:case _.a.VERIFIED:case _.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}else if(e===g.a.DIRECTOR)switch(t.permit_status){case _.a.VERIFIED:case _.a.APPROVED:case _.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}}))},R=function(e){var t=e.investmentPermit,n=e.user_role,s=Object(l.useState)(!1),u=Object(a.a)(s,2),b=u[0],O=u[1],h=Object(j.c)(),f=function(e,t){if(e===g.a.CASE_WORKER)switch(t){case _.a.DRAFTED:return _.a.REVIEWED;case _.a.SENT_SERVICE_FEE:return _.a.ACCEPTED_SERVICE_FEE}else if(e===g.a.TEAM_LEADER){if(t===_.a.REVIEWED)return _.a.VERIFIED}else if(e===g.a.DIRECTOR&&t===_.a.VERIFIED)return _.a.APPROVED},m=function(e,t){if(e===g.a.CASE_WORKER)switch(t){case _.a.REVIEWED:case _.a.DRAFTED:return"Review Permit";case _.a.SENT_SERVICE_FEE:case _.a.ACCEPTED_SERVICE_FEE:return"Approve Service Fee Payment"}else if(e===g.a.TEAM_LEADER)switch(t){case _.a.REVIEWED:case _.a.VERIFIED:return"Verify Permit"}else if(e===g.a.DIRECTOR)switch(t){case _.a.VERIFIED:case _.a.APPROVED:return"Approve Permit"}return""},E=Object(r.a)();return t.permit_status!==_.a.ACCEPTED_SERVICE_FEE?Object(v.jsx)(i.a,{title:m(n,t.permit_status),arrow:!0,children:Object(v.jsx)(c.a,{sx:{"&:hover":{background:E.colors.primary.lighter},color:E.palette.primary.main},color:"inherit",size:"small",onClick:function(){return e=t._id,a=t.permit_status,O(!0),void d.a.UpdateWorkPermitStatus({_id:e,permit_status:f(n,a)},(function(e,t){if(e)throw e;t._id&&(O(!1),h(d.b.UpdateWorkPermits(t)))}));var e,a},disabled:b||function(e,t){return e===g.a.CASE_WORKER?_.a.REVIEWED===String(t)||_.a.ACCEPTED_SERVICE_FEE===String(t):e===g.a.TEAM_LEADER?_.a.VERIFIED===String(t):e===g.a.DIRECTOR&&_.a.APPROVED===String(t)}(n,t.permit_status),children:b?Object(v.jsx)(o.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(x.a,{fontSize:"small"}),m(n,t.permit_status)]})})}):Object(v.jsx)(v.Fragment,{})},D=function(e){var t=e.investmentPermit,n=Object(r.a)(),a=Object(b.h)(),o=Object(j.c)();return Object(v.jsxs)(s.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(v.jsx)(s.a,{md:5,item:!0,children:Object(v.jsx)(i.a,{title:"View Permit",arrow:!0,children:Object(v.jsx)(c.a,{sx:{"&:hover":{background:n.colors.primary.lighter},color:n.palette.primary.main},color:"inherit",size:"small",onClick:function(){o(u.a.SetNewPermitBuffer(t)),a(p.a.WORK_PERMIT.VIEW_INVESTMENT_PERMIT.ROUTE+"/".concat(t._id),{replace:!0})},children:Object(v.jsx)(h.a,{fontSize:"small"})})})}),function(){switch(t.permit_status){case _.a.SENT_SERVICE_FEE:case _.a.ACCEPTED_SERVICE_FEE:return Object(v.jsx)(s.a,{md:5,item:!0,children:Object(v.jsx)(i.a,{title:"View Service Fee Bank Slip",arrow:!0,children:Object(v.jsx)("a",{href:t.service_fee,target:"_blank",style:{textDecoration:"none"},children:Object(v.jsx)(m.a,{fontSize:"small"})})})});default:return Object(v.jsx)(v.Fragment,{})}}()]})}},640:function(e,t,n){"use strict";var a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32)),i=n(1),c=(0,r.default)((0,i.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");t.default=c},657:function(e,t,n){"use strict";n(0);var a=n(105),r=n(1);t.a=Object(a.a)(Object(r.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft")},658:function(e,t,n){"use strict";n(0);var a=n(105),r=n(1);t.a=Object(a.a)(Object(r.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight")},674:function(e,t,n){"use strict";var a=n(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(32)),i=n(1),c=(0,r.default)((0,i.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"}),"Assignment");t.default=c}}]);
//# sourceMappingURL=27.271eb105.chunk.js.map