(this["webpackJsonpadmin-template"]=this["webpackJsonpadmin-template"]||[]).push([[40],{1281:function(e,t,a){"use strict";a.r(t);var r,n=a(608),c=a(573),i=a(215),s=a(602),o=a(160),l=a(27),d=a(1),j=function(){Object(l.h)();return Object(d.jsx)(c.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:Object(d.jsxs)(c.a,{item:!0,children:[Object(d.jsx)(o.a,{variant:"h3",component:"h3",gutterBottom:!0,children:"Specific Reports"}),Object(d.jsxs)(o.a,{variant:"subtitle2",children:["Catherine Pike",", these are your work reports"]})]})})},E=a(19),u=a(0),b=a(607),O=a(621),h=a(559),m=a(587),f=a(588),p=a(569),x=a(596),R=a(577),v=a(557),_=a(584),g=a(1290),D=a(1291),C=a(1292),y=a(1293),I=a(1294),S=a(1295),T=a(636),A=a(169),P=a(164),V=a(55),F=a(628);!function(e){e.DATE="Date",e.EMPLOYEE="Employee"}(r||(r={}));var W=function(){var e=Object(u.useState)(),t=Object(E.a)(e,2),a=t[0],n=t[1],i=Object(u.useState)(""),s=Object(E.a)(i,2),l=s[0],j=s[1],W=Object(u.useState)(""),w=Object(E.a)(W,2),M=w[0],N=w[1],k=Object(V.d)(P.c.selectWorkPermits),B=Object(u.useState)([]),L=Object(E.a)(B,2),z=L[0],H=L[1],K=Object(u.useState)([]),U=Object(E.a)(K,2),G=U[0],Y=U[1],J=Object(u.useState)([]),q=Object(E.a)(J,2),Q=q[0],X=q[1],Z=Object(u.useState)(),$=Object(E.a)(Z,2),ee=$[0],te=$[1],ae=Object(u.useState)(),re=Object(E.a)(ae,2),ne=re[0],ce=re[1];Object(u.useEffect)((function(){A.a.FetchAdmins((function(e,t){if(e)throw e;t&&Y(t)}))}),[]),Object(u.useEffect)((function(){ee&&ee.length>0&&X(G.filter((function(e){return e.role===ee})))}),[ee]);return Object(d.jsxs)(b.a,{sx:{pl:2,pb:2},children:[Object(d.jsx)(O.a,{sx:{pl:0},title:a?"Filter Work Permits By ".concat(a):"Filter Work Permits"}),Object(d.jsx)(h.a,{}),Object(d.jsxs)(c.a,{container:!0,spacing:4,display:"flex",alignItems:"center",sx:{pt:1},children:[Object(d.jsx)(c.a,{item:!0,md:3,sx:{pl:0},children:Object(d.jsxs)(m.a,{fullWidth:!0,variant:"outlined",children:[Object(d.jsx)(f.a,{children:"Filter By"}),Object(d.jsx)(p.a,{onChange:function(e){n(e.target.value)},label:"Status",autoWidth:!0,children:Object.values(r).map((function(e){return Object(d.jsx)(x.a,{value:e,children:e},e)}))})]})}),Object(d.jsx)(c.a,{item:!0,md:3,children:Object(d.jsx)(R.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){switch(a){case r.DATE:return function(){if(l.length>0&&M.length>0){var e=[];k&&k.length>0&&k.forEach((function(t){var a=new Date(l).getTime(),r=new Date(M).getTime(),n=new Date(t.createdAt).getTime();n<=r&&n>=a&&e.push(t)})),H(e)}}();case r.EMPLOYEE:return void(ee&&ne&&A.a.FetchAdminWorkPermitsBody({_id:ne,role:ee},(function(e,t){if(e)throw e;t&&H(t)})));default:return null}},children:"Generate"})})]}),a===r.DATE&&Object(d.jsxs)(c.a,{container:!0,md:6,spacing:1,display:"flex",alignItems:"center",sx:{pt:1},children:[Object(d.jsx)(c.a,{item:!0,md:6,children:Object(d.jsxs)(m.a,{fullWidth:!0,children:[Object(d.jsx)(v.a,{id:"demo-radio-buttons-group-label",children:"Start Date"}),Object(d.jsx)(_.a,{type:"date",variant:"outlined",onChange:function(e){j(e.target.value)}})]})}),Object(d.jsx)(c.a,{item:!0,md:6,children:Object(d.jsxs)(m.a,{fullWidth:!0,children:[Object(d.jsx)(v.a,{id:"demo-radio-buttons-group-label",children:"End Date"}),Object(d.jsx)(_.a,{type:"date",variant:"outlined",onChange:function(e){N(e.target.value)}})]})})]}),a===r.EMPLOYEE&&Object(d.jsxs)(c.a,{container:!0,md:6,spacing:1,display:"flex",alignItems:"center",sx:{pt:1},children:[Object(d.jsx)(c.a,{item:!0,md:6,children:Object(d.jsxs)(m.a,{fullWidth:!0,children:[Object(d.jsx)(v.a,{id:"demo-radio-buttons-group-label",children:"Type of Role"}),Object(d.jsx)(p.a,{type:"date",variant:"outlined",onChange:function(e){te(e.target.value)},children:Object.values(F.a).map((function(e){return Object(d.jsx)(x.a,{value:e,children:"".concat(e).replace("_"," ")},e)}))})]})}),Object(d.jsx)(c.a,{item:!0,md:6,children:Object(d.jsxs)(m.a,{fullWidth:!0,children:[Object(d.jsx)(v.a,{id:"demo-radio-buttons-group-label",children:"Employee"}),Object(d.jsx)(p.a,{type:"date",variant:"outlined",onChange:function(e){ce(e.target.value)},children:Q.map((function(e){return Object(d.jsx)(x.a,{value:e._id,children:"".concat(e.first_name," ").concat(e.last_name)},e._id)}))})]})})]}),Object(d.jsx)(h.a,{sx:{mt:1}}),Object(d.jsx)(g.a,{style:{display:z.length>0?"inherit":"none"},children:Object(d.jsxs)(D.a,{children:[Object(d.jsx)(C.a,{children:Object(d.jsxs)(y.a,{children:[Object(d.jsx)(I.a,{children:"Company Name"}),Object(d.jsx)(I.a,{children:"Country of Incorporation"}),Object(d.jsx)(I.a,{children:"Capital of Enterprise"}),Object(d.jsx)(I.a,{align:"right",children:"Investment Permit License No."}),Object(d.jsx)(I.a,{align:"right",children:"Permit Status"}),Object(d.jsx)(I.a,{align:"right",children:"Actions"})]})}),Object(d.jsx)(S.a,{children:z.map((function(e){var t=e;return Object(d.jsxs)(y.a,{hover:!0,children:[Object(d.jsxs)(I.a,{children:[Object(d.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.company_name}),Object(d.jsx)(o.a,{variant:"body2",color:"text.secondary",noWrap:!0,children:t.company_name_amharic})]}),Object(d.jsx)(I.a,{children:Object(d.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.country_of_incorporation)})}),Object(d.jsx)(I.a,{children:Object(d.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:String(t.capital_of_enterprise)})}),Object(d.jsx)(I.a,{align:"right",children:Object(d.jsx)(o.a,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:t.investment_permit_license_number})}),Object(d.jsx)(I.a,{align:"right",children:t.permit_status}),Object(d.jsx)(I.a,{align:"right",children:Object(d.jsx)(T.a,{investmentPermit:t})})]},t._id)}))})]})})]})};t.default=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{children:Object(d.jsx)("title",{children:"EIC - Reports"})}),Object(d.jsx)(s.a,{children:Object(d.jsx)(j,{})}),Object(d.jsx)(n.a,{maxWidth:"lg",children:Object(d.jsx)(c.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:Object(d.jsx)(c.a,{item:!0,xs:12,children:Object(d.jsx)(W,{})})})})]})}},602:function(e,t,a){"use strict";var r=a(608),n=a(7),c=a(552),i=a(1),s=Object(n.a)(c.a)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4,0),";\n")}));t.a=function(e){var t=e.children;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(s,{children:Object(i.jsx)(r.a,{maxWidth:"lg",children:t})})})}},612:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r;!function(e){e.DRAFTED="DRAFTED",e.REVIEWED="REVIEWED",e.VERIFIED="VERIFIED",e.APPROVED="APPROVED",e.SENT_SERVICE_FEE="SENT_SERVICE_FEE",e.ACCEPTED_SERVICE_FEE="ACCEPTED_SERVICE_FEE",e.RENEWED="RENEWED"}(r||(r={}))},615:function(e,t,a){"use strict";var r=a(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(32)),c=a(1),i=(0,n.default)((0,c.jsx)("path",{d:"m9 16.2-3.5-3.5a.9839.9839 0 0 0-1.4 0c-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4a.9839.9839 0 0 0-1.4 0L9 16.2z"}),"DoneRounded");t.default=i},616:function(e,t,a){"use strict";var r=a(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(32)),c=a(1),i=(0,n.default)((0,c.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEyeSharp");t.default=i},621:function(e,t,a){"use strict";var r=a(4),n=a(5),c=a(2),i=a(0),s=(a(8),a(11)),o=a(213),l=a(160),d=a(16),j=a(7),E=a(117),u=a(136);function b(e){return Object(E.a)("MuiCardHeader",e)}var O=Object(u.a)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),h=a(1),m=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],f=Object(j.a)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:function(e,t){var a;return Object(c.a)((a={},Object(r.a)(a,"& .".concat(O.title),t.title),Object(r.a)(a,"& .".concat(O.subheader),t.subheader),a),t.root)}})({display:"flex",alignItems:"center",padding:16}),p=Object(j.a)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:function(e,t){return t.avatar}})({display:"flex",flex:"0 0 auto",marginRight:16}),x=Object(j.a)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:function(e,t){return t.action}})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),R=Object(j.a)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:function(e,t){return t.content}})({flex:"1 1 auto"}),v=i.forwardRef((function(e,t){var a=Object(d.a)({props:e,name:"MuiCardHeader"}),r=a.action,i=a.avatar,j=a.className,E=a.component,u=void 0===E?"div":E,O=a.disableTypography,v=void 0!==O&&O,_=a.subheader,g=a.subheaderTypographyProps,D=a.title,C=a.titleTypographyProps,y=Object(n.a)(a,m),I=Object(c.a)({},a,{component:u,disableTypography:v}),S=function(e){var t=e.classes;return Object(o.a)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},b,t)}(I),T=D;null==T||T.type===l.a||v||(T=Object(h.jsx)(l.a,Object(c.a)({variant:i?"body2":"h5",className:S.title,component:"span",display:"block"},C,{children:T})));var A=_;return null==A||A.type===l.a||v||(A=Object(h.jsx)(l.a,Object(c.a)({variant:i?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:A}))),Object(h.jsxs)(f,Object(c.a)({className:Object(s.a)(S.root,j),as:u,ref:t,ownerState:I},y,{children:[i&&Object(h.jsx)(p,{className:S.avatar,ownerState:I,children:i}),Object(h.jsxs)(R,{className:S.content,ownerState:I,children:[T,A]}),r&&Object(h.jsx)(x,{className:S.action,ownerState:I,children:r})]}))}));t.a=v},628:function(e,t,a){"use strict";var r,n,c,i;a.d(t,"a",(function(){return c})),function(e){e.CREATE="CREATE",e.FETCH="FETCH",e.EDIT="EDIT",e.REMOVE="REMOVE"}(r||(r={})),function(e){e[e.SUCCESS=200]="SUCCESS",e[e.BAD_ARGS=400]="BAD_ARGS",e[e.NOT_FOUND=404]="NOT_FOUND"}(n||(n={})),function(e){e.CASE_WORKER="CASE_WORKER",e.TEAM_LEADER="TEAM_LEADER",e.DIRECTOR="DIRECTOR"}(c||(c={})),function(e){e.DRAFTED="DRAFTED",e.REVIEWED="REVIEWED",e.VERIFIED="VERIFIED",e.APPROVED="APPROVED"}(i||(i={}))},636:function(e,t,a){"use strict";a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return D})),a.d(t,"a",(function(){return C}));var r=a(19),n=a(29),c=a(564),i=a(594),s=a(598),o=a(573),l=a(0),d=a(45),j=a(164),E=a(55),u=a(27),b=a(616),O=a.n(b),h=a(640),m=a.n(h),f=a(615),p=a.n(f),x=a(24),R=a(628),v=a(612),_=a(1),g=function(e,t){return t.filter((function(t){if(e===R.a.CASE_WORKER)switch(t.permit_status){case v.a.DRAFTED:case v.a.REVIEWED:case v.a.SENT_SERVICE_FEE:case v.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}else if(e===R.a.TEAM_LEADER)switch(t.permit_status){case v.a.REVIEWED:case v.a.VERIFIED:case v.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}else if(e===R.a.DIRECTOR)switch(t.permit_status){case v.a.VERIFIED:case v.a.APPROVED:case v.a.ACCEPTED_SERVICE_FEE:return!0;default:return!1}}))},D=function(e){var t=e.investmentPermit,a=e.user_role,o=Object(l.useState)(!1),d=Object(r.a)(o,2),u=d[0],b=d[1],O=Object(E.c)(),h=function(e,t){if(e===R.a.CASE_WORKER)switch(t){case v.a.DRAFTED:return v.a.REVIEWED;case v.a.SENT_SERVICE_FEE:return v.a.ACCEPTED_SERVICE_FEE}else if(e===R.a.TEAM_LEADER){if(t===v.a.REVIEWED)return v.a.VERIFIED}else if(e===R.a.DIRECTOR&&t===v.a.VERIFIED)return v.a.APPROVED},m=function(e,t){if(e===R.a.CASE_WORKER)switch(t){case v.a.REVIEWED:case v.a.DRAFTED:return"Review Permit";case v.a.SENT_SERVICE_FEE:case v.a.ACCEPTED_SERVICE_FEE:return"Approve Service Fee Payment"}else if(e===R.a.TEAM_LEADER)switch(t){case v.a.REVIEWED:case v.a.VERIFIED:return"Verify Permit"}else if(e===R.a.DIRECTOR)switch(t){case v.a.VERIFIED:case v.a.APPROVED:return"Approve Permit"}return""},f=Object(n.a)();return t.permit_status!==v.a.ACCEPTED_SERVICE_FEE?Object(_.jsx)(c.a,{title:m(a,t.permit_status),arrow:!0,children:Object(_.jsx)(i.a,{sx:{"&:hover":{background:f.colors.primary.lighter},color:f.palette.primary.main},color:"inherit",size:"small",onClick:function(){return e=t._id,r=t.permit_status,b(!0),void j.a.UpdateWorkPermitStatus({_id:e,permit_status:h(a,r)},(function(e,t){if(e)throw e;t._id&&(b(!1),O(j.b.UpdateWorkPermits(t)))}));var e,r},disabled:u||function(e,t){return e===R.a.CASE_WORKER?v.a.REVIEWED===String(t)||v.a.ACCEPTED_SERVICE_FEE===String(t):e===R.a.TEAM_LEADER?v.a.VERIFIED===String(t):e===R.a.DIRECTOR&&v.a.APPROVED===String(t)}(a,t.permit_status),children:u?Object(_.jsx)(s.a,{}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(p.a,{fontSize:"small"}),m(a,t.permit_status)]})})}):Object(_.jsx)(_.Fragment,{})},C=function(e){var t=e.investmentPermit,a=Object(n.a)(),r=Object(u.h)(),s=Object(E.c)();return Object(_.jsxs)(o.a,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[Object(_.jsx)(o.a,{md:5,item:!0,children:Object(_.jsx)(c.a,{title:"View Permit",arrow:!0,children:Object(_.jsx)(i.a,{sx:{"&:hover":{background:a.colors.primary.lighter},color:a.palette.primary.main},color:"inherit",size:"small",onClick:function(){s(d.a.SetNewPermitBuffer(t)),r(x.a.WORK_PERMIT.VIEW_INVESTMENT_PERMIT.ROUTE+"/".concat(t._id),{replace:!0})},children:Object(_.jsx)(O.a,{fontSize:"small"})})})}),function(){switch(t.permit_status){case v.a.SENT_SERVICE_FEE:case v.a.ACCEPTED_SERVICE_FEE:return Object(_.jsx)(o.a,{md:5,item:!0,children:Object(_.jsx)(c.a,{title:"View Service Fee Bank Slip",arrow:!0,children:Object(_.jsx)("a",{href:t.service_fee,target:"_blank",style:{textDecoration:"none"},children:Object(_.jsx)(m.a,{fontSize:"small"})})})});default:return Object(_.jsx)(_.Fragment,{})}}()]})}},640:function(e,t,a){"use strict";var r=a(31);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(32)),c=a(1),i=(0,n.default)((0,c.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"Payment");t.default=i}}]);
//# sourceMappingURL=40.e3b3f44e.chunk.js.map